{% extends 'SoccerStats/base.html' %}

{% load humanize %}
{% load static %}

{% block content %}

    <div class="card card-inverse">
        <div class="card-header bg-primary">
            <div class="row">
                <div class="col-sm-6 text-sm-center">
                    <a href="{% url 'team:detail' fixture.home_team.id %}">
                        <img
                                class="img-thumbnail"
                                src="{{ fixture.home_team.crest_url }}"
                                alt="{{ fixture.home_team.name }}"
                                style="max-height:10em"
                                onerror="this.src='{% static 'SoccerStats/assets/team.svg' %}'"
                        >
                        <h3 class="card-title">{{ fixture.home_team.name }}</h3>
                    </a>
                </div>
                <div class="col-sm-6 text-sm-center">
                    <a href="{% url 'team:detail' fixture.away_team.id %}">
                        <img
                                class="img-thumbnail"
                                src="{{ fixture.away_team.crest_url }}"
                                alt="{{ fixture.away_team.name }}"
                                style="max-height:10em"
                                onerror="this.src='{% static 'SoccerStats/assets/team.svg' %}'"
                        >
                        <h3 class="card-title">{{ fixture.away_team.name }}</h3>
                    </a>
                </div>
            </div>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-inverse">
                <p class="card-text">Datum</p>
                <p class="card-text">{{ fixture.date.date }}</p>
            </li>
            <li class="list-group-item bg-inverse">
                <p class="card-text">Uhrzeit</p>
                <p class="card-text">{{ fixture.date.time }}</p>
            </li>
            <li class="list-group-item bg-inverse">
                <p class="card-text">Status</p>
                <p class="card-text">{{ fixture.status }}</p>
            </li>
            {% if fixture.result_set.first.goals_home_team and fixture.result_set.first.goals_away_team %}
                <li class="list-group-item bg-inverse">
                    <p class="card-text">Resultat</p>
                    <p class="card-text">
                        {{ fixture.result_set.first.goals_home_team|default_if_none:"0" }}
                        :
                        {{ fixture.result_set.first.goals_away_team|default_if_none:"0" }}
                    </p>
                </li>
                {% if fixture.result_set.first.halftime_set.first %}
                    <li class="list-group-item bg-inverse">
                        <p class="card-text">Halbzeit</p>
                        <p class="card-text">
                            {{ fixture.result_set.first.halftime_set.first.goals_home_team }}
                            :
                            {{ fixture.result_set.first.halftime_set.first.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
                {% if fixture.result_set.first.extratime_set.first %}
                    <li class="list-group-item bg-inverse">
                        <p class="card-text">Nachspielzeit</p>
                        <p class="card-text">
                            {{ fixture.result_set.first.extratime_set.first.goals_home_team }}
                            :
                            {{ fixture.result_set.first.extratime_set.first.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
                {% if fixture.result_set.first.penaltyshootout_set.first %}
                    <li class="list-group-item bg-inverse">
                        <p class="card-text">Elfmeterschießen</p>
                        <p class="card-text">
                            {{ fixture.result_set.first.penaltyshootout_set.first.goals_home_team }}
                            :
                            {{ fixture.result_set.first.penaltyshootout_set.first.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
            {% endif %}
            {% if fixture.odds_set.first %}
                <li class="list-group-item bg-inverse">
                    <p class="card-text">Wettchancen</p>
                </li>
                <li class="list-group-item bg-inverse">
                    <p class="card-text">Heimsieg</p>
                    <p class="card-text">{{ fixture.odds_set.first.home_win }}</p>
                </li>
                <li class="list-group-item bg-inverse">
                    <p class="card-text">Unentschieden</p>
                    <p class="card-text">{{ fixture.odds_set.first.draw }}</p>
                </li>
                <li class="list-group-item bg-inverse">
                    <p class="card-text">Auswärtssieg</p>
                    <p class="card-text">{{ fixture.odds_set.first.away_win }}</p>
                </li>
            {% endif %}
        </ul>
    </div>
{% endblock %}