{% extends 'SoccerStats/base.html' %}

{% load humanize %}

{% block content %}
    <card>
        <grid>
            <div col="1/2">
                <a href="{% url 'team:detail' fixture.home_team.id %}">
                    <h2>{{ fixture.home_team.name }}</h2>
                    <img src="{{ fixture.home_team.crest_url }}"
                         style="height: 60px; object-fit: cover; object-position: 50% 0">
                </a>
            </div>
            <div col="1/2">
                <a href="{% url 'team:detail' fixture.away_team.id %}">
                    <h2>{{ fixture.away_team.name }}</h2>
                    <img src="{{ fixture.away_team.crest_url }}"
                         style="height: 60px; object-fit: cover; object-position: 50% 0">
                </a>
            </div>
        </grid>
        <hr>
        <table>
            <tr>
                <th>Datum</th>
                <td>{{ fixture.date.date }}</td>
            </tr>
            <tr>
                <th>Uhrzeit</th>
                <td>{{ fixture.date.time }}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{{ fixture.status }}</td>
            </tr>
            {% if fixture.result_set.all.0.goals_home_team or fixture.result_set.all.0.goals_away_team %}
                <tr>
                    <th>Resultat</th>
                    {% spaceless %}
                        <td>
                            {{ fixture.result_set.all.0.goals_home_team|default_if_none:"0" }}
                            :
                            {{ fixture.result_set.all.0.goals_away_team|default_if_none:"0" }}
                        </td>
                    {% endspaceless %}
                </tr>
                {% if fixture.result_set.all.0.halftime_set.all %}
                    <tr>
                        <th>Halbzeit</th>
                        {% spaceless %}
                            <td>
                                {{ fixture.result_set.all.0.halftime_set.all.0.goals_home_team }}
                                :
                                {{ fixture.result_set.all.0.halftime_set.all.0.goals_away_team }}
                            </td>
                        {% endspaceless %}
                    </tr>
                {% endif %}
                {% if fixture.result_set.all.0.extratime_set.all %}
                    <tr>
                        <th>Nachspielzeit</th>
                        {% spaceless %}
                            <td>
                                {{ fixture.result_set.all.0.extratime_set.all.0.goals_home_team }}
                                :
                                {{ fixture.result_set.all.0.extratime_set.all.0.goals_away_team }}
                            </td>
                        {% endspaceless %}
                    </tr>
                {% endif %}
                {% if fixture.result_set.all.0.penaltyshootout_set.all %}
                    <tr>
                        <th>Elfmeterschießen</th>
                        {% spaceless %}
                            <td>
                                {{ fixture.result_set.all.0.penaltyshootout_set.all.0.goals_home_team }}
                                :
                                {{ fixture.result_set.all.0.penaltyshootout_set.all.0.goals_away_team }}
                            </td>
                        {% endspaceless %}
                    </tr>
                {% endif %}
            {% endif %}
            {% if fixture.odds_set.all %}
                <tr>
                    <th colspan="2">Wettchancen</th>
                </tr>
                <tr>
                    <th>Heimsieg</th>
                    <td>{{ fixture.odds_set.all.0.home_win }}</td>
                </tr>
                <tr>
                    <th>Unentschieden</th>
                    <td>{{ fixture.odds_set.all.0.draw }}</td>
                </tr>
                <tr>
                    <th>Auswärtssieg</th>
                    <td>{{ fixture.odds_set.all.0.away_win }}</td>
                </tr>
            {% endif %}
        </table>
    </card>
{% endblock %}