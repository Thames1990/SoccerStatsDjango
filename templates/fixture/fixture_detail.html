{% extends 'SoccerStats/base.html' %}

{% load humanize %}

{% block content %}

    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-xs-6 text-center">
                    <a href="{% url 'team:detail' fixture.home_team.id %}">
                        <img
                                class="img-thumbnail"
                                src="{{ fixture.home_team.crest_url }}"
                                alt="{{ fixture.home_team.name }}"
                                style="max-height:10em"
                                onerror="this.style.display='none'"
                        >
                        <h3>{{ fixture.home_team.name }}</h3>
                    </a>
                </div>
                <div class="col-xs-6 text-center">
                    <a href="{% url 'team:detail' fixture.away_team.id %}">
                        <img
                                class="img-thumbnail"
                                src="{{ fixture.away_team.crest_url }}"
                                alt="{{ fixture.away_team.name }}"
                                style="max-height:10em"
                                onerror="this.style.display='none'"
                        >
                        <h3>{{ fixture.away_team.name }}</h3>
                    </a>
                </div>
            </div>
        </div>
        <ul class="list-group">
            <li class="list-group-item">
                <p>Datum</p>
                <p>{{ fixture.date.date }}</p>
            </li>
            <li class="list-group-item">
                <p>Uhrzeit</p>
                <p>{{ fixture.date.time }}</p>
            </li>
            <li class="list-group-item">
                <p>Status</p>
                <p>{{ fixture.status }}</p>
            </li>
            {% if fixture.result_set.all.0.goals_home_team or fixture.result_set.all.0.goals_away_team %}
                <li class="list-group-item">
                    <p>Resultat</p>
                    <p>
                        {{ fixture.result_set.all.0.goals_home_team|default_if_none:"0" }}
                        :
                        {{ fixture.result_set.all.0.goals_away_team|default_if_none:"0" }}
                    </p>
                </li>
                {% if fixture.result_set.all.0.halftime_set.all %}
                    <li class="list-group-item">
                        <p>Halbzeit</p>
                        <p>
                            {{ fixture.result_set.all.0.halftime_set.all.0.goals_home_team }}
                            :
                            {{ fixture.result_set.all.0.halftime_set.all.0.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
                {% if fixture.result_set.all.0.extratime_set.all %}
                    <li class="list-group-item">
                        <p>Nachspielzeit</p>
                        <p>
                            {{ fixture.result_set.all.0.extratime_set.all.0.goals_home_team }}
                            :
                            {{ fixture.result_set.all.0.extratime_set.all.0.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
                {% if fixture.result_set.all.0.penaltyshootout_set.all %}
                    <li class="list-group-item">
                        <p>Elfmeterschießen</p>
                        <p>
                            {{ fixture.result_set.all.0.penaltyshootout_set.all.0.goals_home_team }}
                            :
                            {{ fixture.result_set.all.0.penaltyshootout_set.all.0.goals_away_team }}
                        </p>
                    </li>
                {% endif %}
            {% endif %}
            {% if fixture.odds_set.all %}
                <li class="list-group-item">
                    <p>Wettchancen</p>
                </li>
                <li class="list-group-item">
                    <p>Heimsieg</p>
                    <p>{{ fixture.odds_set.all.0.home_win }}</p>
                </li>
                <li class="list-group-item">
                    <p>Unentschieden</p>
                    <p>{{ fixture.odds_set.all.0.draw }}</p>
                </li>
                <li class="list-group-item">
                    <p>Auswärtssieg</p>
                    <p>{{ fixture.odds_set.all.0.away_win }}</p>
                </li>
            {% endif %}
        </ul>
    </div>
{% endblock %}